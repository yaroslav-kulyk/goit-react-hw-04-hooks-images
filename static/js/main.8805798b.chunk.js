(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),o=c(4),r=c.n(o),i=(c(15),c(3)),s=c(5),u=(c(16),c(1));function l(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(i.a)(c,2),o=a[0],r=a[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===o.trim())return s.b.error("Enter the search query");t(o),r("")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.target.value.toLowerCase())}})]})})}c(18);var j=document.querySelector("#modal-root");function b(e){var t=e.url,c=e.showModal;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&c(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[c]);return Object(o.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&c(!1)},children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:t,alt:""})})}),j)}var m=c(9);c(19);var h=function(e){var t=e.webformatURL,c=e.tags,n=e.onClick;return Object(u.jsx)("li",{className:"ImageGalleryItem",onClick:n,children:Object(u.jsx)("img",{src:t,alt:c,className:"ImageGalleryItem-image"})})},d=c(10),f=c.n(d);var O=function(e,t){var c=new URLSearchParams({q:e,key:"22978515-5cb8795ed8e9eafc86c022855",image_type:"photo",orientation:"horizontal",per_page:12,page:t}),n="".concat("https://pixabay.com/api/","?").concat(c);return fetch(n).then((function(e){return e.ok?e.json():Promise.reject(new Error("Something went wrong, please try again later"))})).then((function(e){return e.hits}))},g=(c(40),"idle"),v="pending",p="resolved",x="rejected",w=document.querySelector("#loader-root");function S(e){var t=e.query,c=e.page,a=e.onImageClick,r=e.showButton,l=e.newSearch,j=Object(n.useState)([]),b=Object(i.a)(j,2),d=b[0],S=b[1],y=Object(n.useState)("idle"),k=Object(i.a)(y,2),C=k[0],N=k[1];Object(n.useEffect)((function(){t&&(l&&(S([]),r(!1)),N(v),O(t,c).then((function(e){if(!e.length)return s.b.info("No images found :("),S(e),void N(g);S((function(t){return[].concat(Object(m.a)(t),Object(m.a)(e))})),N(p),r(!0)})).catch((function(e){s.b.error("".concat(e.message),{theme:"colored"}),N(x)})))}),[l,c,t,r]),Object(n.useLayoutEffect)((function(){l||window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));return Object(u.jsxs)("div",{children:[C===v&&Object(o.createPortal)(Object(u.jsx)("div",{className:"loader",children:Object(u.jsx)(f.a,{type:"Grid",color:"#3f51b5",height:100,width:100})}),w),Object(u.jsx)("ul",{className:"ImageGallery",children:d&&d.map((function(e,t){var c=e.webformatURL,n=e.tags;return Object(u.jsx)("div",{children:Object(u.jsx)(h,{webformatURL:c,tags:n,onClick:function(){return function(e){a(d[e].largeImageURL)}(t)}})},t)}))})]})}c(41);var y=function(e){var t=e.onClick;return Object(u.jsx)("div",{className:"ButtonContainer",children:Object(u.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})})};c(42);function k(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)(1),r=Object(i.a)(o,2),j=r[0],m=r[1],h=Object(n.useState)(!1),d=Object(i.a)(h,2),f=d[0],O=d[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),p=v[0],x=v[1],w=Object(n.useState)(""),k=Object(i.a)(w,2),C=k[0],N=k[1],E=Object(n.useState)(!1),L=Object(i.a)(E,2),I=L[0],q=L[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(s.a,{autoClose:2500}),p&&Object(u.jsx)(b,{url:C,showModal:x}),Object(u.jsx)(l,{onSubmit:function(e){a(e),m(1),q(!0)}}),Object(u.jsx)(S,{query:c,page:j,onImageClick:function(e){x(!0),N(e)},showButton:O,newSearch:I}),f&&Object(u.jsx)(y,{onClick:function(){m((function(e){return e+1})),q(!1)}})]})}r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.8805798b.chunk.js.map